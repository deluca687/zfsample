<?php

$title = 'My posts';
$this->headTitle($title);
?>

<div style="float:left; padding-right:16px;">
    <?php echo $this->gravatar($this->zfcUserIdentity()->getEmail()) ?>
</div>
<h3><?php echo $this->translate('Hello'); ?>, <?php echo $this->zfcUserDisplayName() ?>!</h3>
<a href="<?php echo $this->url('zfcuser/logout') ?>">[<?php echo $this->translate('Sign Out'); ?>]</a>
<div style="clear:both;"></div>

<h1><?php echo $this->escapeHtml($title); ?></h1>
<p>
    <a href="<?php echo $this->url('post', array('action'=>'add'));?>">Add new post</a>
</p>

<table class="table">
<tr>
    <th>Title</th>
    <th>Content</th>
    <th>&nbsp;</th>
</tr>
<?php foreach ($posts as $post) : ?>
<tr>
    <td><?php echo $this->escapeHtml($post->title);?></td>
    <td><?php echo $this->escapeHtml($post->content);?></td>
    <td>
        <a href="<?php echo $this->url('post',
            array('action'=>'edit', 'id' => $post->id));?>">Edit</a>
        <a href="<?php echo $this->url('post',
            array('action'=>'delete', 'id' => $post->id));?>">Delete</a>
    </td>
</tr>
<?php endforeach; ?>
</table>